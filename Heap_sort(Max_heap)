#include<stdio.h>

void heapify(int*arr,int size)
{
    int parent = (size-1)/2;
    while(size>0)
    {
       if(arr[parent]<arr[size])
       {
        int temp = arr[parent];
        arr[parent] = arr[size];
        arr[size] = temp;
       }
     size--;
    }
}
void max_heap(int*arr,int last,int first)
{
    int largest = first;
    int l = (2*first +1);
    int r = (2*first +2);
   
   if(l<last&&arr[l]>arr[first])
   first =l;
   if(r<last&&arr[r]>arr[first])
   first = r;
   if(largest!=first)
   {
     int temp = arr[largest];
        arr[largest] = arr[first];
        arr[first] = temp;
        max_heap(arr,last,first);
   }
}
void heap_sort(int*arr,int size)
{
   for(int i=size-1;i>=0;i--)
    heapify(arr,i);
    for(int i=size-1;i>0;i--)
    {
        int temp = arr[i];
        arr[i] = arr[0];
        arr[0] = temp;
        max_heap(arr,i,0);
    }
}
int main()
{
    int size;
    printf("enter size : ");
    scanf("%d",&size);
    int arr[size];
    printf("enter array elements : ");
    for(int i=0;i<size;i++)
    scanf("%d",arr+i);
    printf("sorted array : ");
    for(int i=0;i<size;i++)
    printf(" %d",arr[i]);
}
